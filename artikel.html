<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Detail Artikel</title>

  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta name="robots" content="index, follow">

  <link rel="canonical" href="">

  <link rel="icon" type="image/png" sizes="32x32" href="images/logo.png">
  <link rel="apple-touch-icon" sizes="180x180" href="images/logo.png">

  <meta property="og:title" content="">
  <meta property="og:description" content="">
  <meta property="og:image" content="">
  <meta property="og:type" content="article">
  <meta property="og:url" content="">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="">
  <meta name="twitter:description" content="">
  <meta name="twitter:image" content="">

  <link rel="stylesheet" href="style/index.css">
  <link rel="stylesheet" href="style/artikel-detail.css">
</head>

<body>

	<header>
	<div class="logo">
	  <img src="images/logo.png" alt="Logo">
	  <div class="logo-text">
		<div class="logo-title">MTs Prof YPI SYAHDA</div>
		<div class="logo-subtitle">
		  Dk. Randu, Ds. Temon, Kec. Simo, Kab. Boyolali
		</div>
	  </div>
	</div>

		<div class="menu-toggle" id="menu-toggle">
			<span></span><span></span><span></span>
		</div>

		<nav id="navbar">
			<a href="index.html">Beranda</a>
			<a href="data-artikel.html">Artikel</a>
			<a href="informasi.html">Informasi SPMB</a>
			<a href="daftar.html">Pendaftaran</a>
			<a href="about.html">Tentang</a>
		</nav>

		<div class="nav-overlay"></div>
	</header>
<main>
	<div class="artikel-layout">

	  <article class="artikel-detail">

		<img id="artikel-banner" class="artikel-banner">
		<h1 id="artikel-title" class="artikel-title"></h1>

		<div class="artikel-meta" id="artikel-meta"></div>

		<div class="artikel-content" id="artikel-content"></div>
		<div class="artikel-tags" id="artikel-tags"></div>
	
	<div class="artikel-author-box">
	  <strong>Redaksi MTs Prof YPI Syahda</strong>
	  <p>
		Redaksi MTs Prof YPI Syahda merupakan tim resmi yang melakukan
		penyusunan, pengelolaan, dan publikasi seluruh informasi di lingkungan MTs Prof YPI SYAHDA.
		Tim redaksi menyajikan berita kegiatan, pengumuman resmi, serta artikel
		edukatif yang bertujuan untuk memberikan informasi yang akurat, edukatif,
		dan bermanfaat bagi peserta didik, orang tua, serta masyarakat luas.
	  </p>
	</div>
	  </article>
	  

	  <aside class="artikel-sidebar">

		<div class="sidebar-box">
		  <h3>Artikel Lainnya</h3>
		  <div id="artikel-lainnya" class="artikel-lainnya"></div>
		</div>
		
	<div class="sidebar-box info-box">
	  <h3>Media Informasi</h3>

	  <p class="info-item title">
		<strong>Narahubung Penerimaan Murid Baru MTs Prof YPI Syahda</strong>
	  </p>

	  <p class="info-item">
		üìç Dk. Randu RT 08 RW02, Ds. Temon, Kec. Simo, Kab. Boyolali 57377
	  </p>
	  
		<a href="https://wa.me/6283838327070" target="_blank" class="wa-link">
		  <img 
			src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" 
			alt="WhatsApp"
		  >
		  <div class="wa-text">
			<span class="wa-number">0838-3832-7070</span>
			<span class="wa-admin">Hj. Siti Syamsiyah, S.Pd., M.Pd</span>
		  </div>
		</a>

		<a href="https://wa.me/6281299115834" target="_blank" class="wa-link">
		  <img 
			src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" 
			alt="WhatsApp"
		  >
		  <div class="wa-text">
			<span class="wa-number">0812-9911-5834</span>
			<span class="wa-admin">Hj, Yunita Niqrisah Dwi Pratiwi, S.E., M.Si</span>
		  </div>
		</a>

		<a href="https://wa.me/6285848439984" target="_blank" class="wa-link">
		  <img 
			src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" 
			alt="WhatsApp"
		  >
		  <div class="wa-text">
			<span class="wa-number">0858-4843-9984</span>
			<span class="wa-admin">Drs. Shomat</span>
		  </div>
		</a>

	</div>

	  </aside>

	</div>
</main>

	<footer>
		<div class="footer-social">
			<a href="https://instagram.com/mtsprofypisyahda" target="_blank">
				<img src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/instagram.svg" alt="Instagram" width="24" height="24">
			</a>
			<a href="#">
				<img src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/facebook.svg" alt="Facebook" width="24" height="24">
			</a>
			<a href="mailto:mtsprofypisyahda@gmail.com">
				<img src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/gmail.svg" alt="Email" width="24" height="24">
			</a>
		</div>

		<div class="footer-bottom">
			&copy; 2025 MTs Prof YPI Syahda ‚Äî All Rights Reserved
		</div>
	</footer>

<script src="database/data-artikel.js"></script>


<script>
document.addEventListener("DOMContentLoaded", () => {

  const params = new URLSearchParams(window.location.search);
  const slug = params.get("slug");

  if (!slug || typeof articles === "undefined") return;

  const a = Array.isArray(articles)
    ? articles.find(item => item.slug === slug)
    : articles[slug];

  if (!a) return;

  document.title = `${a.title} | MTs Prof YPI Syahda`;

  const plainText = a.excerpt || a.description || 
    a.content.replace(/<[^>]*>/g, "").substring(0, 160);

  setMeta("description", plainText);

  setMeta("keywords", a.keywords || `${a.title}, MTs YPI Syahda, Artikel Pendidikan`);

  setLink("canonical", `${window.location.origin}/artikel.html?slug=${a.slug}`);

  setOG("og:title", a.title);
  setOG("og:description", plainText);
  setOG("og:image", a.banner);
  setOG("og:url", `${window.location.origin}/artikel.html?slug=${a.slug}`);
  setOG("og:type", "article");

});

function setMeta(name, content) {
  let meta = document.querySelector(`meta[name="${name}"]`);
  if (!meta) {
    meta = document.createElement("meta");
    meta.setAttribute("name", name);
    document.head.appendChild(meta);
  }
  meta.setAttribute("content", content);
}

function setOG(property, content) {
  let meta = document.querySelector(`meta[property="${property}"]`);
  if (!meta) {
    meta = document.createElement("meta");
    meta.setAttribute("property", property);
    document.head.appendChild(meta);
  }
  meta.setAttribute("content", content);
}

function setLink(rel, href) {
  let link = document.querySelector(`link[rel="${rel}"]`);
  if (!link) {
    link = document.createElement("link");
    link.setAttribute("rel", rel);
    document.head.appendChild(link);
  }
  link.setAttribute("href", href);
}

document.addEventListener("DOMContentLoaded", () => {
  const params = new URLSearchParams(window.location.search);
  const slug = params.get("slug");

  const article = articles.find(a => a.slug === slug);
  if (!article) return;

  document.getElementById("artikel-banner").src = article.banner;
  document.getElementById("artikel-title").innerText = article.title;
  document.getElementById("artikel-meta").innerText =
    `${article.date} ‚Ä¢ ${article.author}`;
  document.getElementById("artikel-content").innerHTML = article.content;

  /* ===== TAGS ===== */
  const tagBox = document.getElementById("artikel-tags");
  tagBox.innerHTML = "";

  if (article.tags) {
    article.tags.forEach(tag => {
      const a = document.createElement("a");
      a.href = `tag.html?tag=${tag}`;
      a.className = "tag";
      a.textContent = tag.replace(/-/g, " ").replace(/\b\w/g, c => c.toUpperCase());
      tagBox.appendChild(a);
    });
  }
});


document.addEventListener("DOMContentLoaded", () => {

  const params = new URLSearchParams(window.location.search);
  const currentSlug = params.get("slug");

  const container = document.getElementById("artikel-lainnya");
  if (!container) return;

  if (!Array.isArray(articles)) {
    container.innerHTML = "<p>Data artikel tidak tersedia</p>";
    return;
  }

  let otherArticles = articles.filter(a => a.slug !== currentSlug);

  for (let i = otherArticles.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [otherArticles[i], otherArticles[j]] = [otherArticles[j], otherArticles[i]];
  }

  const MAX_ARTIKEL = 10;

  otherArticles.slice(0, MAX_ARTIKEL).forEach(a => {
    const item = document.createElement("div");
    item.className = "artikel-lainnya-item";

    item.innerHTML = `
      <a href="artikel.html?slug=${a.slug}">
        <img src="${a.banner}" alt="${a.title}">
        <div class="artikel-lainnya-body">
          <h5>${a.title}</h5>
        </div>
      </a>
    `;

    container.appendChild(item);
  });

});

</script>

</body>
</html>
